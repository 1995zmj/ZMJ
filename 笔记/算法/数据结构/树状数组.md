# 树状数组

[参考](https://zhuanlan.zhihu.com/p/93795692)

## 二进制数最右边的一个1，连带着它之后的0为

```c
void lowbit(int x)
{
    return (x)&(-x)
}
```

## 单点修改

```c
int tree[MAXN];
inline void update(int i, int x)
{
    for (int pos = i; pos < MAXN; pos += lowbit(pos))
        tree[pos] += x;
}
```

## 求前n项和

```c
inline int query(int n)
{
    int ans = 0;
    for (int pos = n; pos; pos -= lowbit(pos))
        ans += tree[pos];
    return ans;
}
```

## 区间查询

```c
inline int query(int a, int b)
{
    return query(b) - query(a - 1);
}
```